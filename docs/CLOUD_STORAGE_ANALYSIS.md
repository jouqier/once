# –ê–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Telegram CloudStorage

## –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–æ–¥–Ω–æ–º –±–æ–ª—å—à–æ–º JSON –æ–±—ä–µ–∫—Ç–µ** –ø–æ–¥ –∫–ª—é—á–æ–º `user_data_${userId}`:

```javascript
{
    version: "1.3",
    userId: "123456789",
    movies: {
        want: [1, 2, 3, ...],           // –ú–∞—Å—Å–∏–≤ ID —Ñ–∏–ª—å–º–æ–≤
        watched: [4, 5, 6, ...],        // –ú–∞—Å—Å–∏–≤ ID —Ñ–∏–ª—å–º–æ–≤
        reviews: {                       // –û–±—ä–µ–∫—Ç –æ—Ç–∑—ã–≤–æ–≤
            "123": { rating: 5, text: "..." },
            "456": { rating: 4, text: "..." }
        }
    },
    tvShows: {
        want: [10, 20, 30, ...],
        watching: [40, 50, ...],
        watched: [60, 70, ...],
        episodes: {                     // –û–±—ä–µ–∫—Ç —ç–ø–∏–∑–æ–¥–æ–≤
            "100_1": [1, 2, 3],         // showId_season: [episodeNumbers]
            "100_2": [1, 2, 3, 4]
        },
        seasonReviews: {                // –û—Ç–∑—ã–≤—ã –Ω–∞ —Å–µ–∑–æ–Ω—ã
            "100_1": { rating: 5, text: "..." }
        },
        reviews: {                      // –û—Ç–∑—ã–≤—ã –Ω–∞ —Å–µ—Ä–∏–∞–ª—ã
            "100": { rating: 5, text: "..." }
        }
    },
    search: {
        recent: [{ id: 1, title: "..." }, ...]
    },
    activity: [
        { id: 1, type: "movie", action: "watched", ... },
        ...
    ]
}
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Telegram CloudStorage

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|----------|------------|
| **–ú–∞–∫—Å–∏–º—É–º –∫–ª—é—á–µ–π** | 1024 –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| **–î–ª–∏–Ω–∞ –∫–ª—é—á–∞** | 1-128 —Å–∏–º–≤–æ–ª–æ–≤ | ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç |
| **–§–æ—Ä–º–∞—Ç –∫–ª—é—á–∞** | A-Z, a-z, 0-9, _, - | ‚ö†Ô∏è –ù—É–∂–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è |
| **–†–∞–∑–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è** | **0-4096 —Å–∏–º–≤–æ–ª–æ–≤** | ‚ùå **–ö–†–ò–¢–ò–ß–ù–û!** |
| **API** | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π (callback) | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ |

## –ü—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –†–∞–∑–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è

**–¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:**
- –°—Ä–µ–¥–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 50-200 KB (50,000-200,000 —Å–∏–º–≤–æ–ª–æ–≤)
- –ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 500+ KB (500,000+ —Å–∏–º–≤–æ–ª–æ–≤)
- **–õ–∏–º–∏—Ç CloudStorage: 4096 —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –∫–ª—é—á**

**–í—ã–≤–æ–¥:** –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ **–ù–ï –ü–û–î–•–û–î–ò–¢** –¥–ª—è CloudStorage –±–µ–∑ —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

–í—Å–µ –º–µ—Ç–æ–¥—ã CloudStorage –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å callback:
```javascript
// –¢–µ–∫—É—â–∏–π –∫–æ–¥ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
const data = localStorage.getItem('user_data_123');
const parsed = JSON.parse(data);

// CloudStorage (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
TG.CloudStorage.getItem('user_data_123', (error, value) => {
    if (error) { /* ... */ }
    const parsed = JSON.parse(value);
});
```

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –§–æ—Ä–º–∞—Ç –∫–ª—é—á–µ–π

–¢–µ–∫—É—â–∏–µ –∫–ª—é—á–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã:
- `user_data_${userId}` - ‚úÖ OK (–µ—Å–ª–∏ userId —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)
- `cache_${key}` - ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞ key

## –†–µ—à–µ–Ω–∏–µ: –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–†–∞–∑–±–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏:

```javascript
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–µ–π
const KEYS = {
    // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    META: 'meta',                    // version, userId
    
    // –§–∏–ª—å–º—ã
    MOVIES_WANT: 'movies_want',       // [1, 2, 3, ...]
    MOVIES_WATCHED: 'movies_watched', // [4, 5, 6, ...]
    MOVIES_REVIEWS: 'movies_reviews', // { "123": {...} }
    
    // –°–µ—Ä–∏–∞–ª—ã
    TV_WANT: 'tv_want',
    TV_WATCHING: 'tv_watching',
    TV_WATCHED: 'tv_watched',
    TV_REVIEWS: 'tv_reviews',
    TV_SEASON_REVIEWS: 'tv_season_reviews',
    
    // –≠–ø–∏–∑–æ–¥—ã (—Ä–∞–∑–±–∏—Ç—å –ø–æ —Å–µ–∑–æ–Ω–∞–º)
    TV_EPISODES: 'tv_episodes',       // { "100_1": [1,2,3] }
    
    // –ü–æ–∏—Å–∫ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
    SEARCH_RECENT: 'search_recent',
    ACTIVITY: 'activity'
};
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ–ª—å—à–∏–µ –º–∞—Å—Å–∏–≤—ã (activity, episodes) –≤—Å–µ –µ—â–µ –º–æ–≥—É—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å 4096 —Å–∏–º–≤–æ–ª–æ–≤.

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–∏–∑–æ–¥–æ–≤ –≤ –æ–¥–Ω–æ–º —Å–µ–∑–æ–Ω–µ

**–ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–ø–∏–∑–æ–¥–æ–≤:**

| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–∏–∑–æ–¥–æ–≤ | –†–∞–∑–º–µ—Ä JSON | –°—Ç–∞—Ç—É—Å |
|---------------------|-------------|--------|
| 500 —ç–ø–∏–∑–æ–¥–æ–≤ | ~1893 —Å–∏–º–≤–æ–ª–æ–≤ | ‚úÖ OK |
| 800 —ç–ø–∏–∑–æ–¥–æ–≤ | ~3093 —Å–∏–º–≤–æ–ª–æ–≤ | ‚úÖ OK |
| **1000 —ç–ø–∏–∑–æ–¥–æ–≤** | **~3894 —Å–∏–º–≤–æ–ª–æ–≤** | ‚ö†Ô∏è **–ë–ª–∏–∑–∫–æ –∫ –ª–∏–º–∏—Ç—É** |
| 1200 —ç–ø–∏–∑–æ–¥–æ–≤ | ~4894 —Å–∏–º–≤–æ–ª–æ–≤ | ‚ùå **–ü–†–ï–í–´–®–ï–ù–ò–ï** |
| 1500 —ç–ø–∏–∑–æ–¥–æ–≤ | ~6394 —Å–∏–º–≤–æ–ª–æ–≤ | ‚ùå **–ü–†–ï–í–´–®–ï–ù–ò–ï** |

**–í—ã–≤–æ–¥:** –ï—Å–ª–∏ –≤ –æ–¥–Ω–æ–º —Å–µ–∑–æ–Ω–µ –±–æ–ª—å—à–µ ~1000 —ç–ø–∏–∑–æ–¥–æ–≤, –¥–∞–Ω–Ω—ã–µ **–ù–ï –í–õ–ï–ó–£–¢** –≤ –æ–¥–∏–Ω –∫–ª—é—á CloudStorage!

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–µ–∑–æ–Ω–æ–≤:**

1. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è —ç–ø–∏–∑–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å–µ–∑–æ–Ω–∞** (–µ—Å–ª–∏ > 800 —ç–ø–∏–∑–æ–¥–æ–≤):
```javascript
// –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞ –¥–ª—è –≤—Å–µ–≥–æ —Å–µ–∑–æ–Ω–∞:
'tv_ep_100_1': '[1,2,3,...,1000]'  // ‚ùå –ù–µ –≤–ª–µ–∑–µ—Ç

// –†–∞–∑–±–∏—Ç—å –Ω–∞ —á–∞—Å—Ç–∏:
'tv_ep_100_1_0': '[1,2,3,...,800]',      // –≠–ø–∏–∑–æ–¥—ã 1-800
'tv_ep_100_1_1': '[801,802,...,1000]',   // –≠–ø–∏–∑–æ–¥—ã 801-1000
'tv_ep_100_1_meta': '{"total":1000,"pages":2}'  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```

2. **–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** (–±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã):
```javascript
// –í–º–µ—Å—Ç–æ –º–∞—Å—Å–∏–≤–∞ –≤—Å–µ—Ö —ç–ø–∏–∑–æ–¥–æ–≤:
'tv_ep_100_1': '[1,2,3,4,5,...,1000]'  // 3894 —Å–∏–º–≤–æ–ª–∞

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã (–µ—Å–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã –ø–æ–¥—Ä—è–¥):
'tv_ep_100_1': '{"ranges":[[1,500],[600,1000]]}'  // ~50 —Å–∏–º–≤–æ–ª–æ–≤
// –ò–ª–∏ –±–∏—Ç–æ–≤—É—é –º–∞—Å–∫—É (–µ—Å–ª–∏ –º–Ω–æ–≥–æ –ø—Ä–æ–ø—É—Å–∫–æ–≤):
'tv_ep_100_1': '{"mask":"111111..."}'  // –ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–µ–∑–æ–Ω–æ–≤
```

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
```javascript
function saveEpisodes(tvId, season, episodes) {
    const json = JSON.stringify(episodes);
    
    if (json.length <= 4096) {
        // –û–±—ã—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
        return `tv_ep_${tvId}_${season}`;
    } else {
        // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
        return splitIntoPages(tvId, season, episodes);
    }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–∞–≥–∏–Ω–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤

–î–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é:

```javascript
// Activity —Ä–∞–∑–±–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
const KEYS = {
    ACTIVITY_PAGE_0: 'activity_0',   // –ü–µ—Ä–≤—ã–µ 50 –∑–∞–ø–∏—Å–µ–π
    ACTIVITY_PAGE_1: 'activity_1',   // –°–ª–µ–¥—É—é—â–∏–µ 50 –∑–∞–ø–∏—Å–µ–π
    ACTIVITY_COUNT: 'activity_count'  // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
};

// Episodes —Ä–∞–∑–±–∏—Ç—å –ø–æ —Å–µ–∑–æ–Ω–∞–º (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
const KEYS = {
    TV_EPISODES_100_1: 'tv_ep_100_1',  // –≠–ø–∏–∑–æ–¥—ã —Å–µ–∑–æ–Ω–∞ 1 —Å–µ—Ä–∏–∞–ª–∞ 100
    TV_EPISODES_100_2: 'tv_ep_100_2',  // –≠–ø–∏–∑–æ–¥—ã —Å–µ–∑–æ–Ω–∞ 2
    // ...
};
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π)

1. **–ú–∞–ª—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Üí –û–¥–∏–Ω –∫–ª—é—á
2. **–°—Ä–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ** ‚Üí –õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ
3. **–ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ** ‚Üí –ü–∞–≥–∏–Ω–∞—Ü–∏—è

```javascript
// –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
{
    // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤—Å–µ–≥–¥–∞ < 4096)
    'meta': '{"version":"1.3","userId":"123"}',
    
    // –°–ø–∏—Å–∫–∏ ID (–æ–±—ã—á–Ω–æ < 4096)
    'movies_want': '[1,2,3,4,5,...]',
    'movies_watched': '[10,20,30,...]',
    
    // –û—Ç–∑—ã–≤—ã (—Ä–∞–∑–±–∏—Ç—å –ø–æ ID)
    'movie_review_123': '{"rating":5,"text":"..."}',
    'movie_review_456': '{"rating":4,"text":"..."}',
    
    // Activity (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
    'activity_0': '[{...}, {...}, ...]',  // –ü–µ—Ä–≤—ã–µ 20
    'activity_1': '[{...}, {...}, ...]',  // –°–ª–µ–¥—É—é—â–∏–µ 20
    'activity_meta': '{"total":45,"pages":3}',
    
    // Episodes (–ø–æ —Å–µ–∑–æ–Ω–∞–º)
    'tv_ep_100_1': '[1,2,3,4,5]',  // –°–µ–∑–æ–Ω 1
    'tv_ep_100_2': '[1,2,3]',      // –°–µ–∑–æ–Ω 2
}
```

## –û—Ü–µ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª—é—á–µ–π

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):
- meta: 1
- movies_want, movies_watched: 2
- tv_want, tv_watching, tv_watched: 3
- movies_reviews, tv_reviews: 2
- search_recent, activity: 2
- **–ò—Ç–æ–≥–æ: ~10 –∫–ª—é—á–µ–π** ‚úÖ

### –°—Ä–µ–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):
- –ë–∞–∑–æ–≤—ã–µ: 10
- –û—Ç–∑—ã–≤—ã –Ω–∞ —Ñ–∏–ª—å–º—ã: 20-50
- –û—Ç–∑—ã–≤—ã –Ω–∞ —Å–µ—Ä–∏–∞–ª—ã: 10-30
- –û—Ç–∑—ã–≤—ã –Ω–∞ —Å–µ–∑–æ–Ω—ã: 10-20
- –≠–ø–∏–∑–æ–¥—ã (–ø–æ —Å–µ–∑–æ–Ω–∞–º): 20-50
- Activity (–ø–∞–≥–∏–Ω–∞—Ü–∏—è): 2-5
- **–ò—Ç–æ–≥–æ: ~80-170 –∫–ª—é—á–µ–π** ‚úÖ

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–æ—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω—ã–π):
- –ë–∞–∑–æ–≤—ã–µ: 10
- –û—Ç–∑—ã–≤—ã: 200-300
- –≠–ø–∏–∑–æ–¥—ã: 100-200 (–æ–±—ã—á–Ω—ã–µ —Å–µ–∑–æ–Ω—ã)
- –≠–ø–∏–∑–æ–¥—ã (–±–æ–ª—å—à–∏–µ —Å–µ–∑–æ–Ω—ã > 1000 —ç–ø.): 20-50 (–ø–∞–≥–∏–Ω–∞—Ü–∏—è: 2-3 –∫–ª—é—á–∞ –Ω–∞ —Å–µ–∑–æ–Ω)
- Activity: 10-20
- **–ò—Ç–æ–≥–æ: ~350-580 –∫–ª—é—á–µ–π** ‚úÖ (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 1024)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–Ω–æ–≥–æ —Å–µ—Ä–∏–∞–ª–æ–≤ —Å –±–æ–ª—å—à–∏–º–∏ —Å–µ–∑–æ–Ω–∞–º–∏ (> 1000 —ç–ø–∏–∑–æ–¥–æ–≤), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è –∏–∑-–∑–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, –Ω–æ –≤—Å–µ –µ—â–µ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 1024.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CloudStorage, –µ—Å–ª–∏:

1. **–†–∞–∑–±–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏**
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤**
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**
4. **–î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ localStorage** (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:

1. **–°–æ–∑–¥–∞—Ç—å CloudStorageAdapter** - –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ CloudStorage API
2. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ UserDataStore** - —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏
3. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ø–µ—Ä–µ–Ω–æ—Å –∏–∑ localStorage –≤ CloudStorage
4. **–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–±–∏–µ–Ω–∏—è** - –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è/–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ CloudStorage:

- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ–±–ª–∞–∫–µ
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç localStorage –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ –≤ –ª—é–±–æ–º Telegram –∫–ª–∏–µ–Ω—Ç–µ

### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏—è (4096 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚ùå –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API (—Å–ª–æ–∂–Ω–µ–µ –∫–æ–¥)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ë–æ–ª—å—à–µ –∫–ª—é—á–µ–π = –±–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤

## –í—ã–≤–æ–¥

**–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ù–ï –ü–û–î–•–û–î–ò–¢ –Ω–∞–ø—Ä—è–º—É—é**, –Ω–æ **–º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å** —Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º:

1. ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π (1024) - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
2. ‚ùå –†–∞–∑–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è (4096) - —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑–±–∏–µ–Ω–∏—è
3. ‚ö†Ô∏è –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å - —Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
4. ‚ö†Ô∏è **–ë–æ–ª—å—à–∏–µ —Å–µ–∑–æ–Ω—ã (> 1000 —ç–ø–∏–∑–æ–¥–æ–≤)** - —Ç—Ä–µ–±—É—é—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏–ª–∏ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å:
- –†–∞–∑–±–∏–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–µ–∑–æ–Ω–æ–≤ (> 800 —ç–ø–∏–∑–æ–¥–æ–≤)**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º API —Å fallback –Ω–∞ localStorage
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —ç–ø–∏–∑–æ–¥–æ–≤ (–¥–∏–∞–ø–∞–∑–æ–Ω—ã)

